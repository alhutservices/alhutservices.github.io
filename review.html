<!DOCTYPE html>
<html lang="ar" dir="rtl" id="htmlTag">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨ | Ø§Ù„Ø­ÙˆØª ğŸ‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&family=Poppins:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --main-color: #4f46e5; --bg-soft: #f5f3ff; }
        body { font-family: 'Tajawal', sans-serif; background-color: var(--bg-soft); transition: 0.5s; overflow-x: hidden; }
        .glass-card { background: rgba(255, 255, 255, 0.98); border-radius: 3rem; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.1); }
        .data-row { border-bottom: 1px solid #f1f5f9; padding: 1rem 0; display: flex; justify-content: space-between; align-items: center; }
        .data-label { color: #94a3b8; font-size: 0.85rem; font-weight: 800; }
        .data-value { color: #1e293b; font-weight: 900; }
        [dir="ltr"] .data-value { text-align: right; }
        [dir="rtl"] .data-value { text-align: left; }
        .btn-send { background: #25D366; color: white; transition: 0.3s; }
        .btn-send:hover { background: #128C7E; transform: translateY(-3px); }
        .dynamic-text { color: var(--main-color); transition: 0.5s; }
    </style>
</head>
<body class="p-4 md:p-8">
    <div id="mainCard" class="max-w-lg mx-auto glass-card overflow-hidden border-t-[12px] transition-all duration-500" style="border-color: var(--main-color);">
        
        <div id="headerBox" class="p-8 text-center transition-all duration-500" style="background-color: rgba(0,0,0,0.02);">
            <div id="serviceEmoji" class="text-6xl mb-3">ğŸ“‹</div>
            <h2 id="pageTitle" class="text-2xl font-black dynamic-text">Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨</h2>
            <p id="pageSub" class="text-xs text-gray-400 font-bold mt-1 uppercase tracking-widest">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</p>
        </div>

        <div class="p-8 space-y-1" id="detailsList"></div>

        <div class="p-8 bg-gray-50 text-center">
            <button onclick="sendToWhatsApp()" class="btn-send w-full py-5 rounded-2xl font-black text-xl shadow-xl flex items-center justify-center gap-3 active:scale-95 transition-all">
                <span id="btnText">Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</span> <i class="fab fa-whatsapp text-2xl"></i>
            </button>
            <button onclick="window.history.back()" class="mt-6 text-gray-400 font-black text-sm hover:text-red-500 flex items-center justify-center gap-2 mx-auto">
                <i class="fas fa-edit"></i> <span id="btnEdit">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
            </button>
        </div>
    </div>

    <script>
        const u = new URLSearchParams(window.location.search);
        const currentLang = u.get('lang') || 'ar';
        const myNumber = "9647713225471";

        const translations = {
            ar: { dir: 'rtl', font: 'Tajawal', title: 'Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨', sub: 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©', btn: 'Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨', edit: 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', footer: 'ØªÙ… Ø¹Ø¨Ø± ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­ÙˆØª', whatsappHead: 'Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…Ù†ØµØ© Ø§Ù„Ø­ÙˆØª ğŸ‹',
                  province: 'ğŸ“ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©', name: 'ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…', phone: 'ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ', id_no: 'ğŸ†” Ø§Ù„Ù‡ÙˆÙŠØ©', age: 'ğŸ‚ Ø§Ù„Ø¹Ù…Ø±', gender: 'ğŸ‘« Ø§Ù„Ø¬Ù†Ø³', date: 'ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®', time: 'â° Ø§Ù„ÙˆÙ‚Øª', car: 'ğŸš— Ø§Ù„Ù…Ø±ÙƒØ¨Ø©/Ø§Ù„Ø®Ø¯Ù…Ø©', license: 'ğŸªª Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©' },
            ku: { dir: 'rtl', font: 'Tajawal', title: 'Ù¾ÛØ¯Ø§Ú†ÙˆÙˆÙ†Û•ÙˆÛ•ÛŒ Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ', sub: 'ØªÛ•ÙˆØ§ÙˆÚ©Ø±Ø¯Ù†ÛŒ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†', btn: 'Ù†Ø§Ø±Ø¯Ù† Ø¨Û† ÙˆØ§ØªØ³Ø¦Û•Ù¾', edit: 'Ø¯Û•Ø³ØªÚ©Ø§Ø±ÛŒ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ', footer: 'Ù„Û• Ú•ÛÚ¯Û•ÛŒ Ø¦Û•Ù¾ÚµÛŒÚ©Û•ÛŒØ´Ù†ÛŒ Ø­ÙˆØª', whatsappHead: 'Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ Ù†ÙˆÛ Ù„Û• Ø³Û•Ú©Û†ÛŒ Ø­ÙˆØª ğŸ‹',
                  province: 'ğŸ“ Ø´Ø§Ø±', name: 'ğŸ‘¤ Ù†Ø§Ùˆ', phone: 'ğŸ“ Ù…Û†Ø¨Ø§ÛŒÙ„', id_no: 'ğŸ†” Ù†Ø§Ø³Ù†Ø§Ù…Û•', age: 'ğŸ‚ ØªÛ•Ù…Û•Ù†', gender: 'ğŸ‘« Ú•Û•Ú¯Û•Ø²', date: 'ğŸ“… Ø¨Û•Ø±ÙˆØ§Ø±', time: 'â° Ú©Ø§Øª', car: 'ğŸš— Ø¦Û†ØªÛ†Ù…Ø¨ÛÙ„', license: 'ğŸªª Ù…Û†ÚµÛ•Øª' },
            tr: { dir: 'ltr', font: 'Poppins', title: 'SipariÅŸi Ä°ncele', sub: 'Son Bilgileri Onayla', btn: 'WhatsApp ile GÃ¶nder', edit: 'Bilgileri DÃ¼zenle', footer: 'Al-Hut UygulamasÄ± ile', whatsappHead: 'Al-Hut Platformundan Yeni SipariÅŸ ğŸ‹',
                  province: 'ğŸ“ Åehir', name: 'ğŸ‘¤ Ä°sim', phone: 'ğŸ“ Telefon', id_no: 'ğŸ†” Kimlik No', age: 'ğŸ‚ YaÅŸ', gender: 'ğŸ‘« Cinsiyet', date: 'ğŸ“… Tarih', time: 'â° Saat', car: 'ğŸš— AraÃ§/Servis', license: 'ğŸªª Ehliyet' },
            en: { dir: 'ltr', font: 'Poppins', title: 'Review Order', sub: 'Confirm Final Information', btn: 'Send via WhatsApp', edit: 'Edit Details', footer: 'Via Al-Hut App', whatsappHead: 'New Order from Al-Hut Platform ğŸ‹',
                  province: 'ğŸ“ City', name: 'ğŸ‘¤ Name', phone: 'ğŸ“ Phone', id_no: 'ğŸ†” ID Number', age: 'ğŸ‚ Age', gender: 'ğŸ‘« Gender', date: 'ğŸ“… Date', time: 'â° Time', car: 'ğŸš— Vehicle/Service', license: 'ğŸªª License' }
        };

        function applyBranding() {
            const l = translations[currentLang];
            document.getElementById('htmlTag').dir = l.dir;
            document.body.style.fontFamily = l.font + ', sans-serif';
            document.getElementById('pageTitle').innerText = l.title;
            document.getElementById('pageSub').innerText = l.sub;
            document.getElementById('btnText').innerText = l.btn;
            document.getElementById('btnEdit').innerText = l.edit;

            const gender = u.get('gender');
            const emoji = u.get('emoji');
            if(emoji) document.getElementById('serviceEmoji').innerText = emoji;

            const root = document.documentElement;
            if(gender && (gender.includes('Ø£Ù†Ø«Ù‰') || gender.includes('Female') || gender.includes('KadÄ±n') || gender.includes('Ù…Û'))) {
                root.style.setProperty('--main-color', '#db2777');
                root.style.setProperty('--bg-soft', '#fdf2f8');
            } else if(u.get('service') === 'training') {
                root.style.setProperty('--main-color', '#7c3aed');
                root.style.setProperty('--bg-soft', '#f5f3ff');
            } else {
                root.style.setProperty('--main-color', '#002349');
                root.style.setProperty('--bg-soft', '#f1f5f9');
            }
        }

        function renderDetails() {
            const l = translations[currentLang];
            const container = document.getElementById('detailsList');
            // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø­Ø¯Ø«
            const order = ['province', 'name', 'phone', 'id_no', 'age', 'gender', 'license', 'car', 'date', 'time'];
            let html = '';

            order.forEach(key => {
                const val = u.get(key);
                if(val && val !== 'null') {
                    html += `
                    <div class="data-row">
                        <span class="data-label">${l[key] || key}</span>
                        <span class="data-value">${decodeURIComponent(val)}</span>
                    </div>`;
                }
            });
            container.innerHTML = html;
        }

        function sendToWhatsApp() {
            const l = translations[currentLang];
            let msg = `*${l.whatsappHead}*\n`;
            msg += `--------------------------\n`;
            
            const order = ['province', 'name', 'phone', 'id_no', 'age', 'gender', 'license', 'car', 'date', 'time'];
            order.forEach(key => {
                const val = u.get(key);
                if(val && val !== 'null') {
                    msg += `*${l[key] || key}:* ${decodeURIComponent(val)}\n`;
                }
            });

            if(u.get('lat') && u.get('lng')) {
                msg += `\nğŸ“ *Ø§Ù„Ù…ÙˆÙ‚Ø¹:* https://www.google.com/maps?q=${u.get('lat')},${u.get('lng')}\n`;
            }

            msg += `\nğŸ‹ _${l.footer}_`;
            window.location.href = `https://wa.me/${myNumber}?text=${encodeURIComponent(msg)}`;
        }

        window.onload = () => {
            applyBranding();
            renderDetails();
        };
    </script>
</body>
</html>
