<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أسطول الحوت | ابحث عن سيارتك</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #f0f4f8; }
        .car-card { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .car-card:hover { transform: translateY(-12px); }
        .filter-select { appearance: none; background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23002349' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: left 1rem center; background-size: 1em; }
        .glass-effect { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); }
    </style>
</head>
<body class="pb-12 text-[#002349]">

    <header class="bg-[#002349] text-white pt-12 pb-20 px-6 text-center">
        <h1 class="text-4xl font-black mb-2 text-[#D4AF37]">أسطول الحوت الملكي</h1>
        <p class="opacity-80">اختر الفئة التي تناسب احتياجاتك من بين نخبة سياراتنا</p>
    </header>

    <div class="container mx-auto px-4 -mt-12">
        <div class="glass-effect p-6 rounded-[2.5rem] shadow-xl border border-white flex flex-wrap gap-4 justify-center items-center">
            
            <div class="relative min-w-[180px]">
                <label class="block text-[10px] font-bold text-gray-400 mr-4 mb-1">نوع المحرك/الكير</label>
                <select id="engineFilter" onchange="renderFleet()" class="filter-select w-full p-3 bg-white border-2 border-gray-100 rounded-2xl font-bold outline-none focus:border-[#D4AF37] transition-all">
                    <option value="all">الكل</option>
                    <option value="hybrid">هايبرد (هجين)</option>
                    <option value="auto">أوتوماتيك</option>
                    <option value="manual">عادي</option>
                </select>
            </div>

            <div class="relative min-w-[180px]">
                <label class="block text-[10px] font-bold text-gray-400 mr-4 mb-1">تصنيف السيارة</label>
                <select id="categoryFilter" onchange="renderFleet()" class="filter-select w-full p-3 bg-white border-2 border-gray-100 rounded-2xl font-bold outline-none focus:border-[#D4AF37] transition-all">
                    <option value="all">كل الفئات</option>
                    <option value="economy">اقتصادية</option>
                    <option value="sport">رياضية</option>
                    <option value="family">عائلية (SUV)</option>
                    <option value="luxury">فاخرة / VIP</option>
                </select>
            </div>

        </div>

        <div id="fleetGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-12">
            </div>
    </div>

    <script>
        // مصفوفة السيارات الذكية
        const fleet = [
            { name: "تويوتا كورولا 2025", engine: "hybrid", cat: "economy", price: "45,000", img: "Cars/corolla.jpg", specs: "اقتصادية جداً - هايبرد" },
            { name: "دودج جارجر SRT", engine: "auto", cat: "sport", price: "85,000", img: "Cars/charger.jpg", specs: "محرك جبار - تصميم رياضي" },
            { name: "هيونداي تايسون", engine: "auto", cat: "family", price: "60,000", img: "Cars/tucson.jpg", specs: "مريحة للعوائل - دفع رباعي" },
            { name: "مرسيدس S-Class", engine: "auto", cat: "luxury", price: "150,000", img: "Cars/mercedes.jpg", specs: "فخامة مطلقة - مناسبة للشخصيات" },
            { name: "نيسان صني", engine: "manual", cat: "economy", price: "35,000", img: "Cars/sunny.jpg", specs: "عملية - كير عادي" }
        ];

        function renderFleet() {
            const engine = document.getElementById('engineFilter').value;
            const category = document.getElementById('categoryFilter').value;
            const grid = document.getElementById('fleetGrid');
            grid.innerHTML = '';

            const filtered = fleet.filter(car => {
                return (engine === 'all' || car.engine === engine) && 
                       (category === 'all' || car.cat === category);
            });

            if(filtered.length === 0) {
                grid.innerHTML = '<div class="col-span-full text-center py-20 font-bold text-gray-400">عذراً، لا توجد سيارات مطابقة لهذا البحث حالياً</div>';
                return;
            }

            filtered.forEach(car => {
                grid.innerHTML += `
                    <div class="car-card bg-white rounded-[2.5rem] p-5 shadow-lg border border-gray-50 relative overflow-hidden">
                        <div class="absolute top-4 left-4 bg-white/80 backdrop-blur px-3 py-1 rounded-full text-[10px] font-black z-10 shadow-sm border border-gray-100">
                            ${car.price} د.ع / يوم
                        </div>
                        <div class="w-full h-48 bg-gray-100 rounded-[2rem] mb-5 overflow-hidden">
                            <img src="${car.img}" class="w-full h-full object-cover" onerror="this.src='https://via.placeholder.com/400x300?text=Al-Hut+Car'">
                        </div>
                        <div class="px-2">
                            <span class="text-[10px] font-bold text-[#D4AF37] uppercase tracking-widest">${car.cat === 'luxury' ? '⭐ فئة فاخرة' : 'نظام الحوت'}</span>
                            <h3 class="text-xl font-black mb-1">${car.name}</h3>
                            <p class="text-gray-400 text-xs mb-6 font-medium">${car.specs}</p>
                            
                            <div class="flex items-center justify-between gap-4">
                                <div class="flex items-center gap-2 text-xs font-bold text-gray-500">
                                    <i class="fas fa-gas-pump text-[#002349]"></i>
                                    ${car.engine === 'hybrid' ? 'هايبرد' : (car.engine === 'auto' ? 'أوتوماتيك' : 'عادي')}
                                </div>
                                <button onclick="selectCar('${car.name}')" class="bg-[#002349] text-white px-6 py-3 rounded-2xl font-bold hover:bg-[#D4AF37] hover:text-[#002349] transition-all text-sm shadow-md">
                                    حجز السيارة
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        function selectCar(name) {
            const params = new URLSearchParams(window.location.search);
            const date = params.get('date');
            const service = params.get('service');
            const target = (service === 'wedding') ? 'booking_wedding.html' : 'booking_vip.html';
            window.location.href = `${target}?car=${encodeURIComponent(name)}&date=${date}`;
        }

        window.onload = renderFleet;
    </script>
</body>
</html>
