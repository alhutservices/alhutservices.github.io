<!DOCTYPE html>
<html lang="ar" dir="rtl" id="htmlTag">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>ÿ™ÿÆÿµŸäÿµ ÿ∑ŸÑÿ®ŸÉ | ÿ•ÿ∂ÿßŸÅÿßÿ™ ÿßŸÑÿ≠Ÿàÿ™ ÿßŸÑŸÖŸÖŸäÿ≤ÿ© ŸÅŸä ÿßŸÑÿπÿ±ÿßŸÇ</title>
    <meta name="description" content="ÿ£ÿ∂ŸÅ ŸÑŸÖÿ≥ÿ™ŸÉ ÿßŸÑÿÆÿßÿµÿ© ŸÑÿ±ÿ≠ŸÑÿ™ŸÉ ŸÖÿπ ÿßŸÑÿ≠Ÿàÿ™. ŸÜŸàŸÅÿ± ÿ™ÿ£ŸÖŸäŸÜ ÿ¥ÿßŸÖŸÑÿå ÿ™ÿ≤ŸäŸäŸÜ ÿ≥Ÿäÿßÿ±ÿßÿ™ ÿ£ÿπÿ±ÿßÿ≥ÿå ŸàŸÉŸàÿ±ÿ≥ÿßÿ™ ÿ™ÿπŸÑŸäŸÖ ÿ≥ŸäÿßŸÇÿ© ÿ∞Ÿáÿ®Ÿäÿ© ŸÅŸä ÿ®ÿ∫ÿØÿßÿØÿå ŸÉÿ±ŸÉŸàŸÉÿå ÿ£ÿ±ÿ®ŸäŸÑÿå ŸàŸÉÿßŸÅÿ© ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿßÿ™.">
    <meta name="keywords" content="ÿ™ÿ£ŸÖŸäŸÜ ÿ≥Ÿäÿßÿ±ÿßÿ™ ÿßŸäÿ¨ÿßÿ± ÿßŸÑÿπÿ±ÿßŸÇÿå ÿ™ÿ≤ŸäŸäŸÜ ÿ≥Ÿäÿßÿ±ÿßÿ™ ÿßÿπÿ±ÿßÿ≥ ÿ®ÿ∫ÿØÿßÿØÿå ŸÉŸàÿ±ÿ≥ ÿ™ÿπŸÑŸäŸÖ ÿ≥ŸäÿßŸÇÿ© ŸÉÿ±ŸÉŸàŸÉÿå ÿßŸÅÿ∂ŸÑ ŸÖŸÉÿ™ÿ® ÿ™ÿπŸÑŸäŸÖ ŸÇŸäÿßÿØÿ©ÿå ÿßÿ∂ÿßŸÅÿßÿ™ ÿ≥Ÿäÿßÿ±ÿßÿ™ ÿßŸÑÿ≠Ÿàÿ™">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&family=Poppins:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Tajawal', 'Poppins', sans-serif; background-color: #f0f2f5; transition: 0.5s; overflow-x: hidden; }
        .hero-bg { background: linear-gradient(135deg, #002349 0%, #004d99 100%); position: relative; padding-top: 5rem; padding-bottom: 12rem; overflow: hidden; border-bottom: 4px solid #D4AF37; }
        .dynamic-pattern { position: absolute; inset: 0; opacity: 0.20; pointer-events: none; background-repeat: repeat; animation: bgMove 40s linear infinite; }
        @keyframes bgMove { from { background-position: 0 0; } to { background-position: 1000px 1000px; } }
        .city-overlay { position: absolute; inset: 0; opacity: 0.7; transition: 1s; pointer-events: none; }
        .whale-logo { font-size: 5rem; animation: floating 4s ease-in-out infinite; filter: drop-shadow(0 10px 15px rgba(0,0,0,0.3)); }
        @keyframes floating { 0%, 100% { transform: translateY(0) rotate(-5deg); } 50% { transform: translateY(-15px) rotate(5deg); } }
        .option-card { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 2.5rem; border: 2px solid transparent; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 15px 35px rgba(0,0,0,0.05); }
        .option-card.active { border-color: #D4AF37; transform: translateY(-10px); background: #fff; box-shadow: 0 25px 50px rgba(212, 175, 55, 0.2); }
        .check-mark { position: absolute; top: 1.5rem; left: 1.5rem; width: 35px; height: 35px; background: #D4AF37; color: #002349; border-radius: 50%; display: flex; align-items: center; justify-content: center; opacity: 0; transform: scale(0.5); transition: 0.3s; z-index: 10; }
        .option-card.active .check-mark { opacity: 1; transform: scale(1); }
        .price-label { background: #002349; color: #D4AF37; padding: 10px 25px; border-radius: 1.25rem; font-weight: 900; display: inline-block; }
        .btn-proceed { background: #002349; color: white; transition: 0.3s; width: 100%; }
        .btn-proceed:not(:disabled):hover { background: #D4AF37; color: #002349; transform: scale(1.02); }
        .btn-proceed:disabled { opacity: 0.3; cursor: not-allowed; }
    </style>
</head>
<body class="pb-20">

    <header class="hero-bg text-white text-center relative">
        <div id="cityOverlay" class="city-overlay"></div>
        <div id="patternBox" class="dynamic-pattern"></div>
        <div class="container mx-auto px-6 relative z-10">
            <div class="whale-logo mb-4">üêã</div>
            <h1 id="pageHeader" class="text-4xl md:text-6xl font-black mb-3 drop-shadow-md">---</h1>
            <p id="pageSub" class="text-lg md:text-2xl opacity-90 font-bold max-w-2xl mx-auto italic">---</p>
        </div>
    </header>

    <main class="container mx-auto px-4 -mt-24 relative z-20">
        <div id="optionsGrid" class="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8"></div>
        <div class="max-w-md mx-auto mt-16">
            <button id="nextBtn" onclick="proceed()" disabled class="btn-proceed py-6 rounded-[2.5rem] font-black text-2xl flex items-center justify-center gap-4 shadow-2xl active:scale-95">
                <span id="btnText">---</span>
                <i id="btnIcon" class="fas fa-chevron-left"></i>
            </button>
        </div>
    </main>

    <script>
        const u = new URLSearchParams(window.location.search);
        const type = u.get('type') || 'personal';
        const lang = u.get('lang') || 'ar';
        const city = u.get('city') || 'ŸÉÿ±ŸÉŸàŸÉ';
        let choice = { name: '', price: 0 };

        const styleColor = { 
            'ŸÉÿ±ŸÉŸàŸÉ': '#004d40', 'ÿ®ÿ∫ÿØÿßÿØ': '#1a237e', 'ÿ£ÿ±ÿ®ŸäŸÑ': '#2e7d32', 
            'ÿßŸÑÿ≥ŸÑŸäŸÖÿßŸÜŸäÿ©': '#6a1b9a', 'ÿßŸÑŸÖŸàÿµŸÑ': '#4e342e', 'ÿßŸÑÿ®ÿµÿ±ÿ©': '#0277bd', 
            'ÿßŸÑÿ£ŸÜÿ®ÿßÿ±': '#ef6c00', 'ÿØŸäÿßŸÑŸâ': '#558b2f' 
        };
        
        const content = {
            ar: {
                training: { title: "ÿ®ÿßŸÇÿßÿ™ ÿßŸÑÿ™ÿØÿ±Ÿäÿ® ŸÅŸä " + city, sub: "ÿßŸÅÿ∂ŸÑ ŸÖŸÉÿßÿ™ÿ® ÿ™ÿπŸÑŸäŸÖ ÿ≥ŸäÿßŸÇÿ© ŸÇÿ±Ÿäÿ®ÿ© ŸÖŸÜŸÉ", opts: [{ n: "ŸÉŸàÿ±ÿ≥ ÿ£ÿ≥ÿßÿ≥Ÿä (3 ÿ£ŸäÿßŸÖ)", d: "ÿ™ÿπŸÑŸÖ ŸÖÿ®ÿßÿØÿ¶ ÿßŸÑŸÇŸäÿßÿØÿ© ŸÑŸÑŸÖÿ®ÿ™ÿØÿ¶ŸäŸÜ", p: 100000, i: "ü•â" }, { n: "ŸÉŸàÿ±ÿ≥ ÿ∞Ÿáÿ®Ÿä (5 ÿ£ŸäÿßŸÖ)", d: "ÿ™ÿØÿ±Ÿäÿ® ŸÖŸÉÿ´ŸÅ Ÿàÿßÿ≠ÿ™ÿ±ÿßŸÅŸä ŸÑŸÑÿ≥ŸäÿßŸÇÿ©", p: 150000, i: "ü•á" }] },
                wedding: { title: "ÿ™ÿ≤ŸäŸäŸÜ ÿ≥Ÿäÿßÿ±ÿßÿ™ ÿßŸÑÿ£ÿπÿ±ÿßÿ≥ - " + city, sub: "ÿßÿ¨ÿπŸÑ ŸÑŸäŸÑÿ© ÿ≤ŸÅÿßŸÅŸÉ ŸÖŸÑŸÉŸäÿ© ŸÖÿπ ÿßŸÑÿ≠Ÿàÿ™", opts: [{ n: "ÿ®ÿßŸÇÿ© ÿßŸÑÿ≤ŸáŸàÿ± ÿßŸÑÿ∑ÿ®ŸäÿπŸäÿ©", d: "ÿ™ÿ≤ŸäŸäŸÜ ÿ£ÿ±ŸÇŸâ ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™ ÿ®Ÿàÿ±ÿØ ÿ∑ÿ®ŸäÿπŸä", p: 75000, i: "üíê" }, { n: "ÿ®ÿßŸÇÿ© ÿßŸÑŸÖŸàŸÉÿ® ÿßŸÑŸÖŸÑŸÉŸä", d: "ÿ™ÿ≤ŸäŸäŸÜ ŸÉÿßŸÖŸÑ ŸÖÿπ ÿ≥ÿßÿ¶ŸÇ ŸÑÿÆÿØŸÖÿ© ÿßŸÑÿπÿ±ÿ≥ÿßŸÜ", p: 125000, i: "üëë" }] },
                personal: { title: "ÿ•ÿ∂ÿßŸÅÿßÿ™ ÿßŸÑÿ≠Ÿàÿ™ ŸÅŸä " + city, sub: "ÿÆÿØŸÖÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ© ŸÑÿ±ÿßÿ≠ÿ™ŸÉ Ÿàÿ£ŸÖÿßŸÜŸÉ", opts: [{ n: "ÿ™ÿ£ŸÖŸäŸÜ ÿ¥ÿßŸÖŸÑ", d: "ÿ≠ŸÖÿßŸäÿ© ÿ™ÿßŸÖÿ© ŸÖŸÜ ÿ≠ŸàÿßÿØÿ´ ÿßŸÑÿ∑ÿ±ŸÇ ŸÅŸä ÿßŸÑÿπÿ±ÿßŸÇ", p: 25000, i: "üõ°Ô∏è" }, { n: "ÿ®ÿØŸàŸÜ ÿ•ÿ∂ÿßŸÅÿßÿ™", d: "ÿ™ÿ£ÿ¨Ÿäÿ± ÿ≥Ÿäÿßÿ±ÿ© ÿ®ÿßŸÑŸÖŸàÿßÿµŸÅÿßÿ™ ÿßŸÑŸÇŸäÿßÿ≥Ÿäÿ©", p: 0, i: "üöó" }] },
                btn: "ÿ™ÿ£ŸÉŸäÿØ ŸàŸÖÿ™ÿßÿ®ÿπÿ© ÿßŸÑÿ≠ÿ¨ÿ≤", free: "ŸÖÿ¨ÿßŸÜŸä", curr: "ÿØ.ÿπ"
            },
            ku: {
                training: { title: "Ÿæÿß⁄©€éÿ¨€ï⁄©ÿßŸÜ€å ⁄ïÿßŸá€éŸÜÿßŸÜ ŸÑ€ï " + city, sub: "ÿ®ÿßÿ¥ÿ™ÿ±€åŸÜ ŸÜŸàŸàÿ≥€åŸÜ⁄Ø€ï€å ŸÅ€éÿ±ÿ®ŸàŸàŸÜ€å ÿ¥€ÜŸÅ€éÿ±€å", opts: [{ n: "⁄©€Üÿ±ÿ≥€å ÿ≥€ïÿ±€ï⁄©€å (3 ⁄ï€Ü⁄ò)", d: "ŸÅ€éÿ±ÿ®ŸàŸàŸÜ€å ÿ®ŸÜ€ïŸÖÿß⁄©ÿßŸÜ€å ÿ¥€ÜŸÅ€éÿ±€å", p: 100000, i: "ü•â" }, { n: "⁄©€Üÿ±ÿ≥€å ÿ≤€é⁄ï€åŸÜ (5 ⁄ï€Ü⁄ò)", d: "⁄ïÿßŸá€éŸÜÿßŸÜ€å ⁄Ü⁄ï Ÿà Ÿæ€åÿ¥€ï€å€å", p: 150000, i: "ü•á" }] },
                wedding: { title: "⁄ïÿßÿ≤ÿßŸÜÿØŸÜ€ïŸà€ï€å ÿ≥€ï€åÿßÿ±€ï€å ÿ®ŸàŸà⁄© ŸÑ€ï " + city, sub: "ÿ¥€ïŸà€ï⁄©€ïÿ™ ÿ¥ÿßŸáÿßŸÜ€ï ÿ®⁄©€ï", opts: [{ n: "Ÿæÿß⁄©€éÿ¨€å ⁄ØŸà⁄µ€å ÿ≥ÿ±Ÿàÿ¥ÿ™€å", d: "⁄ïÿßÿ≤ÿßŸÜÿØŸÜ€ïŸà€ï ÿ®€ï ⁄ØŸà⁄µ€å ŸÅÿ±€éÿ¥", p: 75000, i: "üíê" }, { n: "Ÿæÿß⁄©€éÿ¨€å ⁄©ÿßÿ±ŸàÿßŸÜ€å ÿ¥ÿßŸáÿßŸÜ€ï", d: "⁄ïÿßÿ≤ÿßŸÜÿØŸÜ€ïŸà€ï ŸÑ€ï⁄Ø€ï⁄µ ÿ¥€ÜŸÅ€éÿ±", p: 125000, i: "üëë" }] },
                personal: { title: "ÿ≤€åÿßÿØ⁄©ÿ±ÿßŸà€ï⁄©ÿßŸÜ€å ÿ≠Ÿàÿ™ ŸÑ€ï " + city, sub: "⁄Ø€ïÿ¥ÿ™€ï⁄©€ïÿ™ ÿ™€ïÿ±ÿÆÿßŸÜ ÿ®⁄©€ï", opts: [{ n: "ÿØ⁄µŸÜ€åÿß€å€å ⁄Øÿ¥ÿ™⁄Ø€åÿ±", d: "Ÿæÿßÿ±ÿßÿ≥ÿ™ŸÜ ŸÑ€ï ⁄ïŸàŸàÿØÿßŸà€ï⁄©ÿßŸÜ", p: 25000, i: "üõ°Ô∏è" }, { n: "ÿ®€é ÿ≤€åÿßÿØ⁄©ÿ±ÿßŸà", d: "ÿ™ÿß€åÿ®€ïÿ™ŸÖ€ïŸÜÿØ€å ÿ≥ÿ™ÿßŸÜÿØÿßÿ±ÿØ", p: 0, i: "üöó" }] },
                btn: "ÿ®€ïÿ±ÿØ€ïŸàÿßŸÖ ÿ®€ï", free: "ÿ®€é ÿ®€ïÿ±ÿßŸÖÿ®€ïÿ±", curr: "ÿØ.ÿπ"
            },
            tr: {
                training: { title: city + " Eƒüitim Paketleri", sub: "En iyi ehliyet kurslarƒ±", opts: [{ n: "Temel Kurs (3 G√ºn)", d: "S√ºr√º≈ü temelleri", p: 100000, i: "ü•â" }, { n: "Altƒ±n Kurs (5 G√ºn)", d: "Tam profesyonel eƒüitim", p: 150000, i: "ü•á" }] },
                wedding: { title: city + " D√ºƒü√ºn Paketleri", sub: "Gecenizi unutulmaz kƒ±lƒ±n", opts: [{ n: "√ái√ßek Paketi", d: "Taze √ßi√ßek s√ºsleme", p: 75000, i: "üíê" }, { n: "Kraliyet Konvoyu", d: "S√ºsleme + ≈ûof√∂r", p: 125000, i: "üëë" }] },
                personal: { title: city + " Whale Ekstralarƒ±", sub: "G√ºvenli ve konforlu s√ºr√º≈ü", opts: [{ n: "Tam Sigorta", d: "Kaza koruma kalkanƒ±", p: 25000, i: "üõ°Ô∏è" }, { n: "Ekstra Yok", d: "Standart paket", p: 0, i: "üöó" }] },
                btn: "Onayla Ÿà Devam Et", free: "√úcretsiz", curr: "IQD"
            },
            en: {
                training: { title: "Training in " + city, sub: "Best driving schools near you", opts: [{ n: "Basic Course (3 Days)", d: "Driving basics for beginners", p: 100000, i: "ü•â" }, { n: "Golden Course (5 Days)", d: "Full professional training", p: 150000, i: "ü•á" }] },
                wedding: { title: "Wedding Packages - " + city, sub: "Make it a royal night", opts: [{ n: "Flowers Bundle", d: "Fresh natural decoration", p: 75000, i: "üíê" }, { n: "Royal Convoy", d: "Decoration + Driver service", p: 125000, i: "üëë" }] },
                personal: { title: "Whale Add-ons in " + city, sub: "Customize for your safety", opts: [{ n: "Full Insurance", d: "Complete accident protection", p: 25000, i: "üõ°Ô∏è" }, { n: "No Add-ons", d: "Standard specification", p: 0, i: "üöó" }] },
                btn: "Confirm & Continue", free: "Free", curr: "IQD"
            }
        };

        function init() {
            const l = content[lang] || content['ar'];
            const config = l[type] || l['personal'];
            const isRtl = (lang === 'ar' || lang === 'ku');
            
            document.getElementById('htmlTag').dir = isRtl ? 'rtl' : 'ltr';
            document.getElementById('pageHeader').innerText = config.title;
            document.getElementById('pageSub').innerText = config.sub;
            document.getElementById('btnText').innerText = l.btn;
            document.getElementById('btnIcon').className = `fas fa-chevron-${isRtl ? 'left' : 'right'}`;
            document.getElementById('cityOverlay').style.backgroundColor = styleColor[city] || '#002349';

            const grid = document.getElementById('optionsGrid');
            grid.innerHTML = config.opts.map((opt, idx) => `
                <section onclick="select(${idx}, '${opt.n}', ${opt.p})" id="card-${idx}" class="option-card p-10 cursor-pointer relative">
                    <div class="check-mark"><i class="fas fa-check"></i></div>
                    <div class="flex flex-col items-center text-center">
                        <div class="text-7xl mb-6">${opt.i}</div>
                        <h3 class="text-2xl font-black mb-4">${opt.n}</h3>
                        <p class="text-slate-500 font-bold text-sm mb-8 leading-relaxed">${opt.d}</p>
                        <div class="price-label text-lg">${opt.p === 0 ? l.free : opt.p.toLocaleString() + ' ' + l.curr}</div>
                    </div>
                </section>
            `).join('');
        }

        function select(idx, name, price) {
            choice = { name, price };
            document.querySelectorAll('.option-card').forEach(c => c.classList.remove('active'));
            document.getElementById(`card-${idx}`).classList.add('active');
            document.getElementById('nextBtn').disabled = false;
        }

        function proceed() {
            let target = "booking_personal.html"; 
            if (type === 'training') target = "training.html";
            else if (type === 'wedding') target = "booking_wedding.html";

            u.set('addon_display', choice.name);
            u.set('addon_price', choice.price);
            if(!u.has('days')) u.set('days', '1');

            window.location.href = `${target}?${u.toString()}`;
        }

        window.onload = init;
    </script>
</body>
</html>
